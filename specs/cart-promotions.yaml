openapi: 3.0.1
info:
  title: Cart Promotions APIs
  description: Cart promotion management, activation, and evaluation
  version: 1.0.0
servers:
  - url: https://{host}/v1
    variables:
      host:
        default: eu.api.capillarytech.com
        description: API host
paths:
  /v1/promotions/customer/{customerId}/evaluations/pending_carts:
    get:
      summary: Get Lock unlock -Pending carts (Cart Promotion)
      description: >-
        This API evaluates and returns the details of the carts which are pending  for a particular customer(cart
        promotions have been applied but transaction not completed yet)
      operationId: get-lock-unlock-pending-carts
      parameters:
        - name: customerid
          in: query
          schema:
            type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: "{\n\"data\": {\n\"tempRedemptionDetails\": [\n{\n \"cartEvaluationId\": \"string\",//Unique id assigned to any cart evaluated\n\"startTime\": 0,\t// evaluation call\n\"validTillTime\": 0, // How long is the pending card valid     \n\"appliedPromotions\": [\n{\n\"promotionId\": \"string\", //Unique id assigned to a promotion \n\"earnedPromotionId\": \"string\",//Unique id assigned to the earn event of the promotion\n\"promoCode\": \"string\",//Code assigned to a promotion , which can be used to redeem that promotion\n\"promotionName\": \"string\",//Name assigned to the promotion at the time of  promotion creation\n \"redemptionCount\": 0,//Number of redemptions already done for promotion\n\"discount\": \"string\"//Discount being offered for the promotion\n\n          }\n        ]\n      }\n    ]\n  },\n  \"errors\": [\n    {\n      \"code\": 0,\n      \"message\": \"string\"\n    }\n  ]\n}\n\n"
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      tempRedemptionDetails:
                        type: array
                        items:
                          type: object
                          properties:
                            cartEvaluationId:
                              type: string
                              example: string
                            startTime:
                              type: integer
                              example: 0
                              default: 0
                            validTillTime:
                              type: integer
                              example: 0
                              default: 0
                            appliedPromotions:
                              type: array
                              items:
                                type: object
                                properties:
                                  promotionId:
                                    type: string
                                    example: string
                                  earnedPromotionId:
                                    type: string
                                    example: string
                                  promoCode:
                                    type: string
                                    example: string
                                  promotionName:
                                    type: string
                                    example: string
                                  redemptionCount:
                                    type: integer
                                    example: 0
                                    default: 0
                                  discount:
                                    type: string
                                    example: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 0
                          default: 0
                        message:
                          type: string
                          example: string
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /v1/management/promotions/settings/strategy:
    post:
      summary: Set Cart Promotion Settings
      description: Lets you configure org level Cart promotion settings.
      operationId: set-promotion-settings
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                conditionBasedRankingStrategy:
                  type: string
                  description: Whether to evaluate cart first or line item first when both promotions are applicable.
                  enum:
                    - CART_BASED_FIRST
                    - LINE_ITEM_BASED_FIRST
                rewardStrategy:
                  type: string
                  description: >-
                    When both normal and reward promotions are applicable, pass PROMOTION_FIRST to prioritize normal
                    promotions such as Loyalty, Loyalty earning and POS promotions. Pass REWARDS_FIRST to prioritize
                    reward promotions.
                  default: NO_STRATEGY
                  enum:
                    - PROMOTION_FIRST
                    - REWARDS_FIRST
                singlePromotionPerLineitem:
                  type: boolean
                  description: >-
                    Pass false to to allow multiple promotions on different quantities of a line items or SKUs; pass
                    true to allow single promotion.
                promotionRankingStrategy:
                  type: string
                  description: >-
                    Define ranking of promotions when multiple promotions are applicable - according to the early expiry
                    date, maximum discount applicable, or priority.
                  enum:
                    - EXPIRY_BASED
                    - MAX_DISCOUNT
                    - PRIORITY
                isActive:
                  type: boolean
            examples:
              Sample POST Body:
                value:
                  promotionRankingStrategy: EXPIRY_BASED
                  rewardStrategy: PROMOTION_FIRST
                  singlePromotionPerLineitem: true
                  conditionBasedRankingStrategy: LINE_ITEM_BASED_FIRST
                  isActive: true
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: ""
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /v1/promotions/customer/{customerId}/evaluation/{evaluationId}/cancel:
    put:
      summary: Cancel Cart Evaluation - Cart Promotion
      description: This API is used to cancel pending carts where a promotion is locked.
      operationId: post-cancel-cart-evaluation
      parameters:
        - name: customerId
          in: path
          description: Unique Identifier of the customer
          schema:
            type: string
          required: true
        - name: evaluationId
          in: path
          description: Unique identifier that is generated when a cart evaluation is performed.
          schema:
            type: string
          required: true
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                        "data": {
                            "status": true,
                            "code": 201,
                            "message": "Successfully closed pending cart."
                        },
                        "errors": []
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      status:
                        type: boolean
                        example: true
                        default: true
                      code:
                        type: integer
                        example: 201
                        default: 0
                      message:
                        type: string
                        example: Successfully closed pending cart.
                  errors:
                    type: array
        "404":
          description: "404"
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                        "errors": [
                            {
                                "code": 404,
                                "message": "Passed evaluation log id is not found"
                            }
                        ]
                    }
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 404
                          default: 0
                        message:
                          type: string
                          example: Passed evaluation log id is not found
  /api_gateway/v1/promotions/customer/109943742:
    get:
      summary: Get Cart Promotions for a Customer
      description: >-
        This API is used to retrieve the cart promotions tagged to a particular customer based on the user ID. This
        returns cart promotions issued to the customer or POS promotions which are tagged to the customer's tier or
        supplementary programs.
      operationId: get-promotions-for-a-customer
      parameters:
        - name: includeRedemptions
          in: query
          description: >-
            includeRedemptions=true includes the restrictions applied to the promotion including max limit and remaining
            redemptions
          schema:
            type: boolean
        - name: includeSupplementaryPromotions
          in: query
          description: >-
            includeSupplementaryPromotions=true includes the POS promotions tagged to the customer's tier or
            supplementary program
          schema:
            type: boolean
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                includeRedemptions=true&includeSupplementaryPromotions=true:
                  value: |-
                    {
                        "data": [
                            {
                                "promotionId": "6460c3e8bd84737237d53ae6",
                                "promotionName": "25¢ off per gallon for Gold Members",
                                "validTill": 1704067199999,
                                "customerId": 100458,
                                "earnedType": "TIER",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "supplementaryCriteria": {
                                    "loyaltyProgramId": 469,
                                    "programType": "TIER",
                                    "partnerProgramId": 1207
                                },
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {
                                    "t&c": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "Test_Cap": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "Field": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "image_url": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "partner 1 liability value": "1"
                                },
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "99999.000000",
                                            "remainingRedemption": "99999.000000"
                                        }
                                    ],
                                    "Customer": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "99999.000000",
                                            "remainingRedemption": "99981.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1684002600000
                            },
                            {
                                "earnedPromotionId": "64c0efc4468f3c6d37cea957",
                                "promotionId": "6461b3771baa292a997ada73",
                                "promotionName": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                "validTill": 1704047399999,
                                "unlockedDate": 1690365891325,
                                "customerId": 109943742,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "redeemableFrom": 1690365892735,
                                "customFieldValues": {
                                    "t&c": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Test_Cap": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Field": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "image_url": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "partner 1 liability value": "1"
                                },
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "DISCOUNT",
                                            "maxLimit": "3.000000",
                                            "remainingRedemption": "3.000000"
                                        }
                                    ],
                                    "Customer": [
                                        {
                                            "kpi": "TRANSACTION",
                                            "maxLimit": "5.000000",
                                            "remainingRedemption": "4.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1690365892735
                            },
                            {
                                "promotionId": "64de1f74c69ccc25d2b432e4",
                                "promotionName": "VIP Lounge Access (Gold)",
                                "validTill": 1693526399999,
                                "customerId": 100458,
                                "earnedType": "TIER",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "supplementaryCriteria": {
                                    "loyaltyProgramId": 469,
                                    "programType": "TIER",
                                    "partnerProgramId": 1207
                                },
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "1.000000",
                                            "remainingRedemption": "1.000000"
                                        }
                                    ],
                                    "Customer": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "7.000000",
                                            "remainingRedemption": "7.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1692210600000
                            },
                            {
                                "promotionId": "64de1789c1e1de7955eb0002",
                                "promotionName": "Tier Benefits - Parking( Gold)",
                                "validTill": 1693526399999,
                                "customerId": 100458,
                                "earnedType": "TIER",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "supplementaryCriteria": {
                                    "loyaltyProgramId": 469,
                                    "programType": "TIER",
                                    "partnerProgramId": 1207
                                },
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "1.000000",
                                            "remainingRedemption": "1.000000"
                                        }
                                    ],
                                    "Customer": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "10.000000",
                                            "remainingRedemption": "10.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1692210600000
                            }
                        ],
                        "errors": []
                    }
                includeRedemptions=true:
                  value: |-
                    {
                        "data": [
                            {
                                "earnedPromotionId": "64c0efc4468f3c6d37cea957",
                                "promotionId": "6461b3771baa292a997ada73",
                                "promotionName": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                "validTill": 1704047399999,
                                "unlockedDate": 1690365891325,
                                "customerId": 109943742,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "redeemableFrom": 1690365892735,
                                "customFieldValues": {
                                    "t&c": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Test_Cap": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Field": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "image_url": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "partner 1 liability value": "1"
                                },
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "DISCOUNT",
                                            "maxLimit": "3.000000",
                                            "remainingRedemption": "3.000000"
                                        }
                                    ],
                                    "Customer": [
                                        {
                                            "kpi": "TRANSACTION",
                                            "maxLimit": "5.000000",
                                            "remainingRedemption": "4.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1690365892735
                            }
                        ],
                        "errors": []
                    }
                includeSupplementaryPromotions=true:
                  value: |-
                    {
                        "data": [
                            {
                                "promotionId": "6460c3e8bd84737237d53ae6",
                                "promotionName": "25¢ off per gallon for Gold Members",
                                "validTill": 1704067199999,
                                "customerId": 100458,
                                "earnedType": "TIER",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "supplementaryCriteria": {
                                    "loyaltyProgramId": 469,
                                    "programType": "TIER",
                                    "partnerProgramId": 1207
                                },
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {
                                    "t&c": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "Test_Cap": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "Field": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "image_url": "5¢ off per gallon for Premium Members SF for all fuel ups",
                                    "partner 1 liability value": "1"
                                },
                                "eventTime": 1684002600000
                            },
                            {
                                "earnedPromotionId": "64c0efc4468f3c6d37cea957",
                                "promotionId": "6461b3771baa292a997ada73",
                                "promotionName": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                "validTill": 1704047399999,
                                "unlockedDate": 1690365891325,
                                "customerId": 109943742,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "redeemableFrom": 1690365892735,
                                "customFieldValues": {
                                    "t&c": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Test_Cap": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Field": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "image_url": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "partner 1 liability value": "1"
                                },
                                "eventTime": 1690365892735
                            },
                            {
                                "promotionId": "64de1f74c69ccc25d2b432e4",
                                "promotionName": "VIP Lounge Access (Gold)",
                                "validTill": 1693526399999,
                                "customerId": 100458,
                                "earnedType": "TIER",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "supplementaryCriteria": {
                                    "loyaltyProgramId": 469,
                                    "programType": "TIER",
                                    "partnerProgramId": 1207
                                },
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "eventTime": 1692210600000
                            },
                            {
                                "promotionId": "64de1789c1e1de7955eb0002",
                                "promotionName": "Tier Benefits - Parking( Gold)",
                                "validTill": 1693526399999,
                                "customerId": 100458,
                                "earnedType": "TIER",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "supplementaryCriteria": {
                                    "loyaltyProgramId": 469,
                                    "programType": "TIER",
                                    "partnerProgramId": 1207
                                },
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "eventTime": 1692210600000
                            }
                        ],
                        "errors": []
                    }
                no query param:
                  value: |-
                    {
                        "data": [
                            {
                                "earnedPromotionId": "64c0efc4468f3c6d37cea957",
                                "promotionId": "6461b3771baa292a997ada73",
                                "promotionName": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                "validTill": 1704047399999,
                                "unlockedDate": 1690365891325,
                                "customerId": 109943742,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "redeemableFrom": 1690365892735,
                                "customFieldValues": {
                                    "t&c": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Test_Cap": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "Field": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "image_url": "Enrollment:15¢ off per gallon for 5 fuel ups",
                                    "partner 1 liability value": "1"
                                },
                                "eventTime": 1690365892735
                            }
                        ],
                        "errors": []
                    }
                Response with all restrictions applied:
                  value: |-
                    {
                        "data": [
                            {
                                "earnedPromotionId": "67efba82b206f929966ac2e5",
                                "promotionId": "67efba69b206f929966ac2e3",
                                "promotionName": "AllRestrictions",
                                "validTill": 1746383399999,
                                "unlockedDate": 1743764098940,
                                "customerId": 564332013,
                                "earnedType": "NONE",
                                "earnedStatus": "UNLOCKED",
                                "promotionStatus": "ACTIVE",
                                "applicationMode": "DISCOUNT",
                                "redeemableFrom": 1743764098940,
                                "customFieldValues": {},
                                "restrictions": {
                                    "Customer": [
                                        {
                                            "kpi": "DISCOUNT",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "1.000000"
                                        },
                                        {
                                            "kpi": "TRANSACTION",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "1.000000"
                                        },
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "1.000000"
                                        }
                                    ],
                                    "Cart": [
                                        {
                                            "kpi": "DISCOUNT",
                                            "maxLimit": "100.000000",
                                            "remainingRedemption": "100.000000"
                                        },
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "2.000000"
                                        }
                                    ],
                                    "Promotion": [
                                        {
                                            "kpi": "DISCOUNT",
                                            "maxLimit": "100.000000",
                                            "remainingRedemption": "99.000000"
                                        },
                                        {
                                            "kpi": "TRANSACTION",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "1.000000"
                                        },
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "1.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1743764098940
                            },
                            {
                                "promotionId": "67e27c04ef21a6421122a163",
                                "promotionName": "SummerPromotion",
                                "validTill": 1746057599999,
                                "customerId": 564332013,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "LOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "DISCOUNT",
                                            "maxLimit": "1000.000000",
                                            "remainingRedemption": "1000.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1742962288452
                            },
                            {
                                "promotionId": "67e3c1073919452f135e2da0",
                                "promotionName": "2 items in cart",
                                "validTill": 1746057599999,
                                "customerId": 564332013,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "LOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "restrictions": {
                                    "Cart": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "2.000000",
                                            "remainingRedemption": "2.000000"
                                        }
                                    ]
                                },
                                "eventTime": 1743140185189
                            },
                            {
                                "promotionId": "67e62ac48c0df9394671a7d4",
                                "promotionName": "txn above 100",
                                "validTill": 1746057599999,
                                "customerId": 564332013,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "LOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "eventTime": 1743140407695
                            },
                            {
                                "promotionId": "67e62aefe1c34e7d8e934853",
                                "promotionName": "txn above 500",
                                "validTill": 1746057599999,
                                "customerId": 564332013,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "LOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "eventTime": 1743140430852
                            },
                            {
                                "promotionId": "67ed02dcb206f929966aaf33",
                                "promotionName": "Txn250",
                                "validTill": 1746057599999,
                                "customerId": 564332013,
                                "earnedType": "SINGLE_ACTIVITY_EARN",
                                "earnedStatus": "LOCKED",
                                "promotionStatus": "ACTIVE",
                                "mileStoneId": 0,
                                "targetGroupId": 0,
                                "applicationMode": "DISCOUNT",
                                "customFieldValues": {},
                                "restrictions": {
                                    "Customer": [
                                        {
                                            "kpi": "REDEMPTION",
                                            "maxLimit": "3.000000",
                                            "remainingRedemption": "0"
                                        }
                                    ]
                                },
                                "eventTime": 1743586059055
                            }
                        ],
                        "errors": []
                    }
              schema:
                oneOf:
                  - title: includeRedemptions=true&includeSupplementaryPromotions=true
                    type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            promotionId:
                              type: string
                              example: 6460c3e8bd84737237d53ae6
                            promotionName:
                              type: string
                              example: 25¢ off per gallon for Gold Members
                            validTill:
                              type: integer
                              example: 1704067199999
                              default: 0
                            customerId:
                              type: integer
                              example: 100458
                              default: 0
                            earnedType:
                              type: string
                              example: TIER
                            earnedStatus:
                              type: string
                              example: UNLOCKED
                            promotionStatus:
                              type: string
                              example: ACTIVE
                            supplementaryCriteria:
                              type: object
                              properties:
                                loyaltyProgramId:
                                  type: integer
                                  example: 469
                                  default: 0
                                programType:
                                  type: string
                                  example: TIER
                                partnerProgramId:
                                  type: integer
                                  example: 1207
                                  default: 0
                            applicationMode:
                              type: string
                              example: DISCOUNT
                            customFieldValues:
                              type: object
                              properties:
                                t&c:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                Test_Cap:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                Field:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                image_url:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                partner 1 liability value:
                                  type: string
                                  example: "1"
                            restrictions:
                              type: object
                              properties:
                                Cart:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: REDEMPTION
                                      maxLimit:
                                        type: string
                                        example: "99999.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "99999.000000"
                                Customer:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: REDEMPTION
                                      maxLimit:
                                        type: string
                                        example: "99999.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "99981.000000"
                            eventTime:
                              type: integer
                              example: 1684002600000
                              default: 0
                      errors:
                        type: array
                  - title: includeRedemptions=true
                    type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            earnedPromotionId:
                              type: string
                              example: 64c0efc4468f3c6d37cea957
                            promotionId:
                              type: string
                              example: 6461b3771baa292a997ada73
                            promotionName:
                              type: string
                              example: Enrollment:15¢ off per gallon for 5 fuel ups
                            validTill:
                              type: integer
                              example: 1704047399999
                              default: 0
                            unlockedDate:
                              type: integer
                              example: 1690365891325
                              default: 0
                            customerId:
                              type: integer
                              example: 109943742
                              default: 0
                            earnedType:
                              type: string
                              example: SINGLE_ACTIVITY_EARN
                            earnedStatus:
                              type: string
                              example: UNLOCKED
                            promotionStatus:
                              type: string
                              example: ACTIVE
                            mileStoneId:
                              type: integer
                              example: 0
                              default: 0
                            targetGroupId:
                              type: integer
                              example: 0
                              default: 0
                            applicationMode:
                              type: string
                              example: DISCOUNT
                            redeemableFrom:
                              type: integer
                              example: 1690365892735
                              default: 0
                            customFieldValues:
                              type: object
                              properties:
                                t&c:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                Test_Cap:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                Field:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                image_url:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                partner 1 liability value:
                                  type: string
                                  example: "1"
                            restrictions:
                              type: object
                              properties:
                                Cart:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: DISCOUNT
                                      maxLimit:
                                        type: string
                                        example: "3.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "3.000000"
                                Customer:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: TRANSACTION
                                      maxLimit:
                                        type: string
                                        example: "5.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "4.000000"
                            eventTime:
                              type: integer
                              example: 1690365892735
                              default: 0
                      errors:
                        type: array
                  - title: includeSupplementaryPromotions=true
                    type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            promotionId:
                              type: string
                              example: 6460c3e8bd84737237d53ae6
                            promotionName:
                              type: string
                              example: 25¢ off per gallon for Gold Members
                            validTill:
                              type: integer
                              example: 1704067199999
                              default: 0
                            customerId:
                              type: integer
                              example: 100458
                              default: 0
                            earnedType:
                              type: string
                              example: TIER
                            earnedStatus:
                              type: string
                              example: UNLOCKED
                            promotionStatus:
                              type: string
                              example: ACTIVE
                            supplementaryCriteria:
                              type: object
                              properties:
                                loyaltyProgramId:
                                  type: integer
                                  example: 469
                                  default: 0
                                programType:
                                  type: string
                                  example: TIER
                                partnerProgramId:
                                  type: integer
                                  example: 1207
                                  default: 0
                            applicationMode:
                              type: string
                              example: DISCOUNT
                            customFieldValues:
                              type: object
                              properties:
                                t&c:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                Test_Cap:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                Field:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                image_url:
                                  type: string
                                  example: 5¢ off per gallon for Premium Members SF for all fuel ups
                                partner 1 liability value:
                                  type: string
                                  example: "1"
                            eventTime:
                              type: integer
                              example: 1684002600000
                              default: 0
                      errors:
                        type: array
                  - title: no query param
                    type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            earnedPromotionId:
                              type: string
                              example: 64c0efc4468f3c6d37cea957
                            promotionId:
                              type: string
                              example: 6461b3771baa292a997ada73
                            promotionName:
                              type: string
                              example: Enrollment:15¢ off per gallon for 5 fuel ups
                            validTill:
                              type: integer
                              example: 1704047399999
                              default: 0
                            unlockedDate:
                              type: integer
                              example: 1690365891325
                              default: 0
                            customerId:
                              type: integer
                              example: 109943742
                              default: 0
                            earnedType:
                              type: string
                              example: SINGLE_ACTIVITY_EARN
                            earnedStatus:
                              type: string
                              example: UNLOCKED
                            promotionStatus:
                              type: string
                              example: ACTIVE
                            mileStoneId:
                              type: integer
                              example: 0
                              default: 0
                            targetGroupId:
                              type: integer
                              example: 0
                              default: 0
                            applicationMode:
                              type: string
                              example: DISCOUNT
                            redeemableFrom:
                              type: integer
                              example: 1690365892735
                              default: 0
                            customFieldValues:
                              type: object
                              properties:
                                t&c:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                Test_Cap:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                Field:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                image_url:
                                  type: string
                                  example: Enrollment:15¢ off per gallon for 5 fuel ups
                                partner 1 liability value:
                                  type: string
                                  example: "1"
                            eventTime:
                              type: integer
                              example: 1690365892735
                              default: 0
                      errors:
                        type: array
                  - title: Response with all restrictions applied
                    type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            earnedPromotionId:
                              type: string
                              example: 67efba82b206f929966ac2e5
                            promotionId:
                              type: string
                              example: 67efba69b206f929966ac2e3
                            promotionName:
                              type: string
                              example: AllRestrictions
                            validTill:
                              type: integer
                              example: 1746383399999
                              default: 0
                            unlockedDate:
                              type: integer
                              example: 1743764098940
                              default: 0
                            customerId:
                              type: integer
                              example: 564332013
                              default: 0
                            earnedType:
                              type: string
                              example: NONE
                            earnedStatus:
                              type: string
                              example: UNLOCKED
                            promotionStatus:
                              type: string
                              example: ACTIVE
                            applicationMode:
                              type: string
                              example: DISCOUNT
                            redeemableFrom:
                              type: integer
                              example: 1743764098940
                              default: 0
                            customFieldValues:
                              type: object
                              properties: {}
                            restrictions:
                              type: object
                              properties:
                                Customer:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: DISCOUNT
                                      maxLimit:
                                        type: string
                                        example: "2.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "1.000000"
                                Cart:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: DISCOUNT
                                      maxLimit:
                                        type: string
                                        example: "100.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "100.000000"
                                Promotion:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      kpi:
                                        type: string
                                        example: DISCOUNT
                                      maxLimit:
                                        type: string
                                        example: "100.000000"
                                      remainingRedemption:
                                        type: string
                                        example: "99.000000"
                            eventTime:
                              type: integer
                              example: 1743764098940
                              default: 0
                      errors:
                        type: array
  /api_gateway/v1/promotions/{promotionId}/issueBulk:
    post:
      summary: Issue Cart Promotion
      description: Issue Cart Promotion for the customer.
      operationId: issue-cart-promotion
      parameters:
        - name: promotionId
          in: path
          description: ID of cart promotion that is generated when creating a cart promotion
          schema:
            type: string
          required: true
        - name: contextId
          in: query
          description: Unique identifier of the entity that issued the promotion. This is also known as tillId.
          schema:
            type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                        "data": {
                            "564332013": {
                                "id": "68230a3af1ebc84977d9ea2c",
                                "customerId": 564332013,
                                "promotionId": "67f3832ab206f929966adf81",
                                "earnedFromId": "2 items in cart",
                                "eventTime": 1747126842954,
                                "validTill": 1748716199999
                            }
                        }
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      "564332013":
                        type: object
                        properties:
                          id:
                            type: string
                            example: 68230a3af1ebc84977d9ea2c
                          customerId:
                            type: integer
                            example: 564332013
                            default: 0
                          promotionId:
                            type: string
                            example: 67f3832ab206f929966adf81
                          earnedFromId:
                            type: string
                            example: 2 items in cart
                          eventTime:
                            type: integer
                            example: 1747126842954
                            default: 0
                          validTill:
                            type: integer
                            example: 1748716199999
                            default: 0
        "404":
          description: "404"
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                        "data": {
                            "555567088": {
                                "id": "67dd4237ef21a64211227e06",
                                "customerId": 555567088,
                                "promotionId": "67dd4210ef21a64211227e04",
                                "earnedFromId": "973", 
                                "eventTime": 1742553655678,
                                "validTill": 1746046799999
                            }
                        }
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      "555567088":
                        type: object
                        properties:
                          id:
                            type: string
                            example: 67dd4237ef21a64211227e06
                          customerId:
                            type: integer
                            example: 555567088
                            default: 0
                          promotionId:
                            type: string
                            example: 67dd4210ef21a64211227e04
                          earnedFromId:
                            type: string
                            example: "973"
                          eventTime:
                            type: integer
                            example: 1742553655678
                            default: 0
                          validTill:
                            type: integer
                            example: 1746046799999
                            default: 0
  /api_gateway/v1/promotions/redemptions:
    post:
      summary: Add Promotion Redemption
      operationId: add-promotion-redemption
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Promotion ID not found for the org:
                  value: |-
                    {
                        "timestamp": 1737615222993,
                        "errorCode": 400,
                        "message": "Validation Failed",
                        "errorDetails": [
                            "Promotion with ids : [674fbb982335bd1d58a8c2a4, 674fbb982335bd1d58a8c2a4] not found for org : 4000004 ."
                        ]
                    }
              schema:
                type: object
                properties:
                  timestamp:
                    type: integer
                    example: 1737615222993
                    default: 0
                  errorCode:
                    type: integer
                    example: 400
                    default: 0
                  message:
                    type: string
                    example: Validation Failed
                  errorDetails:
                    type: array
                    items:
                      type: string
                      example: >-
                        Promotion with ids : [674fbb982335bd1d58a8c2a4, 674fbb982335bd1d58a8c2a4] not found for org :
                        4000004 .
    get:
      summary: Get Cart Promotion Redemptions
      description: Retrieves all promotion redemptions.
      operationId: get-cart-promotion-redemptions
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                RAW_BODY:
                  type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: "{\n  \"data\": [\n    {\n      \"id\": \"string\",\t\t\t\t\t\t\t\t\t\t\t\t.//redemption id\n\"orgId\": 0,                                               //Unique id assigned to the organization/brand\n\"promotionId\": \"string\",                           //Unique id assigned to any promotion created\n\"promoCode\": \"string\",                      //Unique code assigned to any promotion created\n\"earnedPromotionId\": \"string\", //Unique id assigned to the earn event of the promotion\n\"customerId\": 0,                                                    //Unique id assigned to any customer\n\"redemptionDate\": \"2023-01-19T09:21:42.981Z\",  //timestamp for promotion redemption\n\"transactionIdentifier\": \"string\",\t\t\t// txn id\n\"transactionNumber\": \"string\",\t\t\t\n\"promotionMessageLabel\": \"string\",                  //Message label created for a promotion\n\"transactionEntityIdentifier\": \"string\",\n\"cartEvaluationId\": \"string\",                         //Unique id assigned while evaluating a cart\n      \"redemptionTill\": 0,  \n      \"discount\": 0,                                                          //Discount offered in the promotion\n      \"redemptionCount\": 0,                        //Count of redemptions made at any given time\n      \"discountAppliedQuantity\": 0,\n      \"promotionAppliedQuantity\": 0,\n      \"amount\": 0,                                    \n      \"sku\": \"string\",                   \n      \"redemptionType\": \"CART\",                                        //Type of promotion redemption\n      \"productId\": 0,\n      \"taxEntityId\": \"string\",\n      \"promotionDetails\": {\n        \"id\": {\n          \"timestamp\": 0,\n          \"date\": \"2023-01-19T09:21:42.981Z\"                     //Date of the redemption event\n        },\n        \"name\": \"string\",                                                                 //Name of the promotion\n        \"orgId\": 0,                                          //Unique id assigned to the organization/brand\n        \"priority\": 0,\n        \"active\": true,               //Whether the promotion is active or not(marked by the user)\n        \"messageLabel\": \"string\",                            //Message label created for a promotion\n        \"campaignId\": \"string\",   //Unique id of the campaign to which promotion is attached\n        \"type\": \"POS\",                                                          //Specifies the type of promotion\n        \"startDate\": \"2023-01-19T09:21:42.981Z\",\n        \"endDate\": \"2023-01-19T09:21:42.981Z\",\n        \"timeBasedCriteria\": {\n          \"startTime\": {\n            \"hour\": 0,\n            \"minute\": 0,\n            \"second\": 0,\n            \"nano\": 0\n          },\n          \"durationInHours\": 0,\n          \"recurrence\": {\n            \"repeatFrequency\": \"DAYS\",  \n            \"weeklyValues\": [\n              \"MONDAY\"\n            ],\n            \"monthlyDayValues\": [\n              0\n            ]\n          }\n        },\n        \"storeBasedCriteria\": { //Promotion applicable only to the store mentioned in the list\n          \"storeType\": \"STORE\",\n          \"operator\": \"IN\",\n          \"values\": [\n            0\n          ]\n        },\n        \"supplementaryBasedCriteria\": {\n          \"loyaltyProgramId\": 0,\n          \"programType\": \"TIER\",        //Specifies the Loyalty program type for the customer\n          \"partnerProgramId\": 0\n        },\n        \"condition\": {                    //Conditions to be checked while fetching the redemptions\n          \"type\": \"CART\",\n          \"cartCondition\": {\n            \"kpi\": \"SUBTOTAL\",\n            \"operator\": \"EQUALS\",\n            \"value\": 0\n          },\n          \"productCondition\": {  //Product Conditions to be checked while fetching the redemptions\n            \"criteriaList\": [\n              {\n                \"entity\": \"SKU\",   //Fetches redemptions only for mentioned SKUs\n            \"criteriaList\": [\n\n                \"operator\": \"IN\",\n                \"values\": [\n                  \"string\"\n                ],\n                \"attributeName\": \"string\"  //Fetches redemptions only for mentioned attributes\n              }\n            ],\n            \"kpi\": \"AMOUNT\",             //Fetches redemptions only for mentioned amount\n            \"value\": 0,\n            \"operator\": \"EQUALS\"\n          },\n          \"comboProductCondition\": {  //Combination conditions applied to fetch redemption\n            \"productConditions\": [\n              {\n                \"criteriaList\": [\n                  {\n                    \"entity\": \"SKU\",\n                    \"operator\": \"IN\",\n                    \"values\": [\n                      \"string\"\n                    ],\n                    \"attributeName\": \"string\"\n                  }\n                ],\n                \"kpi\": \"AMOUNT\",\n                \"value\": 0,\n                \"operator\": \"EQUALS\"\n              },\n              {\n                \"criteriaList\": [\n                  {\n                    \"entity\": \"SKU\",\n                    \"operator\": \"IN\",\n                    \"values\": [\n                      \"string\"\n                    ],\n                    \"attributeName\": \"string\"\n                  }\n                ],\n                \"kpi\": \"AMOUNT\",\n                \"value\": 0,\n                \"operator\": \"EQUALS\"\n              }\n            ]\n          },\n          \"tenderCondition\": { //Tender conditions applied to fetch redemption\n            \"type\": \"PAYMENT_VOUCHER\",\n            \"identifier\": \"string\",\n            \"tenderModes\": [\n              {\n                \"type\": \"PAYMENT_VOUCHER\",\n                \"identifiers\": [\n                  \"string\"\n                ]\n              }\n            ],\n            \"condition\": \"string\"\n          }\n        },\n        \"attribution\": {\n          \"createdOn\": \"2023-01-19T09:21:42.982Z\",\n          \"lastUpdatedOn\": \"2023-01-19T09:21:42.982Z\",\n          \"lastUpdatedBy\": 0,\n          \"createdBy\": 0\n        },\n        \"promotionRestriction\": {\n          \"customerRestrictionKpi\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"earnRestrictionKpi\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"cartRestrictionKpi\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"codeRestrictionKpi\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"promotionRestrictionKpi\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"promotionRestrictionKpis\": {\n            \"additionalProp1\": {\n              \"redemption\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              },\n              \"transaction\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              },\n              \"discount\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              }\n            },\n            \"additionalProp2\": {\n              \"redemption\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              },\n              \"transaction\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              },\n              \"discount\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              }\n            },\n            \"additionalProp3\": {\n              \"redemption\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              },\n              \"transaction\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              },\n              \"discount\": {\n                \"frequency\": \"DAYS\",\n                \"minTimeBetweenRepeat\": 0,\n                \"limit\": 0,\n                \"valid\": true\n              }\n            }\n          },\n          \"summaryUpdateRequired\": true\n        },\n        \"reward\": {\n          \"rewardImmutable\": {\n            \"rewardType\": \"FIXED_PRICE\",\n            \"productBasedCondition\": {\n              \"conditionRO\": {\n                \"type\": \"CART\",\n                \"cartCondition\": {\n                  \"kpi\": \"SUBTOTAL\",\n                  \"operator\": \"EQUALS\",\n                  \"value\": 0\n                },\n                \"productCondition\": {\n                  \"criteriaList\": [\n                    {\n                      \"entity\": \"SKU\",\n                      \"operator\": \"IN\",\n                      \"values\": [\n                        \"string\"\n                      ],\n                      \"attributeName\": \"string\"\n                    }\n                  ],\n                  \"kpi\": \"AMOUNT\",\n                  \"value\": 0,\n                  \"operator\": \"EQUALS\"\n                },\n                \"comboProductCondition\": {\n                  \"productConditions\": [\n                    {\n                      \"criteriaList\": [\n                        {\n                          \"entity\": \"SKU\",\n                          \"operator\": \"IN\",\n                          \"values\": [\n                            \"string\"\n                          ],\n                          \"attributeName\": \"string\"\n                        }\n                      ],\n                      \"kpi\": \"AMOUNT\",\n                      \"value\": 0,\n                      \"operator\": \"EQUALS\"\n                    },\n                    {\n                      \"criteriaList\": [\n                        {\n                          \"entity\": \"SKU\",\n                          \"operator\": \"IN\",\n                          \"values\": [\n                            \"string\"\n                          ],\n                          \"attributeName\": \"string\"\n                        }\n                      ],\n                      \"kpi\": \"AMOUNT\",\n                      \"value\": 0,\n                      \"operator\": \"EQUALS\"\n                    }\n                  ]\n                },\n                \"tenderCondition\": {\n                  \"type\": \"PAYMENT_VOUCHER\",\n                  \"identifier\": \"string\",\n                  \"tenderModes\": [\n                    {\n                      \"type\": \"PAYMENT_VOUCHER\",\n                      \"identifiers\": [\n                        \"string\"\n                      ]\n                    }\n                  ],\n                  \"condition\": \"string\"\n                }\n              },\n              \"conditionType\": \"CART\",\n              \"productDetailNeeded\": true\n            },\n            \"rewardValueType\": \"PERCENTAGE\",\n            \"value\": 0,\n            \"perUnitCondition\": {\n              \"perUnitKPI\": \"AMOUNT\",\n              \"perUnitDivider\": 0,\n              \"rewardType\": \"FIXED_PRICE\"\n            },\n            \"includeItemsFromConditionSet\": true\n          },\n          \"productBasedCondition\": {\n            \"conditionRO\": {\n              \"type\": \"CART\",\n              \"cartCondition\": {\n                \"kpi\": \"SUBTOTAL\",\n                \"operator\": \"EQUALS\",\n                \"value\": 0\n              },\n              \"productCondition\": {\n                \"criteriaList\": [\n                  {\n                    \"entity\": \"SKU\",\n                    \"operator\": \"IN\",\n                    \"values\": [\n                      \"string\"\n                    ],\n                    \"attributeName\": \"string\"\n                  }\n                ],\n                \"kpi\": \"AMOUNT\",\n                \"value\": 0,\n                \"operator\": \"EQUALS\"\n              },\n              \"comboProductCondition\": {\n                \"productConditions\": [\n                  {\n                    \"criteriaList\": [\n                      {\n                        \"entity\": \"SKU\",\n                        \"operator\": \"IN\",\n                        \"values\": [\n                          \"string\"\n                        ],\n                        \"attributeName\": \"string\"\n                      }\n                    ],\n                    \"kpi\": \"AMOUNT\",\n                    \"value\": 0,\n                    \"operator\": \"EQUALS\"\n                  },\n                  {\n                    \"criteriaList\": [\n                      {\n                        \"entity\": \"SKU\",\n                        \"operator\": \"IN\",\n                        \"values\": [\n                          \"string\"\n                        ],\n                        \"attributeName\": \"string\"\n                      }\n                    ],\n                    \"kpi\": \"AMOUNT\",\n                    \"value\": 0,\n                    \"operator\": \"EQUALS\"\n                  }\n                ]\n              },\n              \"tenderCondition\": {\n                \"type\": \"PAYMENT_VOUCHER\",\n                \"identifier\": \"string\",\n                \"tenderModes\": [\n                  {\n                    \"type\": \"PAYMENT_VOUCHER\",\n                    \"identifiers\": [\n                      \"string\"\n                    ]\n                  }\n                ],\n                \"condition\": \"string\"\n              }\n            },\n            \"conditionType\": \"CART\",\n            \"productDetailNeeded\": true\n          },\n          \"rewardValueType\": \"PERCENTAGE\",\n          \"rewardValue\": 0,\n          \"productDetailNeeded\": true\n        },\n        \"earningCriteria\": {\n          \"criteriaName\": \"string\",\n          \"earnedFromType\": \"BULK_ISSUE\",\n          \"ruleId\": 0,\n          \"groupId\": 0,\n          \"milestoneId\": 0,\n          \"eventType\": \"TransactionAdd\",\n          \"earningValidTillDays\": 0,\n          \"storeBasedCriteria\": {\n            \"storeType\": \"STORE\",\n            \"operator\": \"IN\",\n            \"values\": [\n              0\n            ]\n          },\n          \"criteriaDsl\": \"string\",\n          \"criteriaDslJson\": \"string\",\n          \"active\": true\n        },\n        \"campaignBasedValidity\": {\n          \"applyCampaignValidity\": true,\n          \"validity\": \"2023-01-19T09:21:42.982Z\"\n        },\n        \"earningBasedRestriction\": {\n          \"maxEarningPerCustomer\": 0\n        },\n        \"loyaltyEarningBasedValidity\": {\n          \"loyaltyEarningExpiryDays\": 0,\n          \"validity\": \"2023-01-19T09:21:42.982Z\"\n        },\n        \"earnLimitedToSpecificAudience\": true,\n        \"customFieldValues\": {\n          \"additionalProp1\": \"string\",\n          \"additionalProp2\": \"string\",\n          \"additionalProp3\": \"string\"\n        },\n        \"languageTranslation\": [\n          {\n            \"languageCode\": \"string\",\n            \"languageDescriptionList\": [\n              {\n                \"name\": \"string\",\n                \"value\": \"string\",\n                \"type\": \"STANDARD\"\n              }\n            ]\n          }\n        ],\n        \"onEarnCommunicationChannels\": [\n          {\n            \"communicationChannel\": {\n              \"subject\": \"string\",\n              \"message\": \"string\",\n              \"senderLabel\": \"string\",\n              \"senderReplyToEmail\": \"string\",\n              \"unsubscribeLabel\": \"string\",\n              \"senderEmail\": \"string\",\n              \"domainPropertyId\": \"string\",\n              \"senderGSM\": \"string\",\n              \"senderCDMA\": \"string\",\n              \"accountId\": \"string\",\n              \"channelType\": \"ANDROID\",\n              \"pushNotificationCta\": {\n                \"type\": \"DEEP_LINK\",\n                \"actionLink\": \"string\",\n                \"image\": \"string\",\n                \"pushNotificationCtaActionList\": [\n                  {\n                    \"type\": \"DEEP_LINK\",\n                    \"actionLink\": \"string\",\n                    \"actionText\": \"string\",\n                    \"templateCtaId\": \"string\"\n                  }\n                ]\n              }\n            },\n            \"messageId\": 0,\n            \"communicationGuid\": \"string\"\n          }\n        ],\n        \"customerActivationRequired\": true,\n        \"isLoyaltyOnly\": true,\n        \"mode\": \"DISCOUNT\",\n        \"maxIssuancePerCustomer\": 0,\n        \"isStackable\": true,\n        \"redeemableFromCriteria\": {\n          \"redeemableFrom\": {\n            \"period\": 0,\n            \"type\": \"HOURS\",\n            \"durationValid\": true\n          },\n          \"redemptionValidBefore\": {\n            \"period\": 0,\n            \"type\": \"HOURS\",\n            \"durationValid\": true\n          }\n        },\n        \"running\": true,\n        \"voucherValue\": 0,\n        \"earnablePromotion\": true,\n        \"tenderDiscount\": true,\n        \"promotionRestrictionsKPI\": {\n          \"additionalProp1\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"additionalProp2\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          },\n          \"additionalProp3\": {\n            \"redemption\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"transaction\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            },\n            \"discount\": {\n              \"frequency\": \"DAYS\",\n              \"minTimeBetweenRepeat\": 0,\n              \"limit\": 0,\n              \"valid\": true\n            }\n          }\n        },\n        \"loyaltyUserOnly\": true,\n        \"dynamicValidity\": true,\n        \"earnLimitedToIssuedCustomers\": true,\n        \"productDetailNeeded\": true,\n        \"earnSupported\": true\n      }\n    }\n  ],\n  \"errors\": [\n    {\n      \"code\": 0,\n      \"message\": \"string\"\n    }\n  ]\n}\n"
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/evaluate:
    post:
      summary: Evaluate Promotion
      operationId: evaluate-promotion
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                RAW_BODY:
                  type: string
                  format: json
            examples:
              Sample POST Body:
                value:
                  amount: "2000.000000"
                  customerId: 319630259
                  cartItems:
                    - referenceId: fdc78567-bf4a-494b-9386-83045a910dcb
                      sku: 6676557b-a2ee-4334-aa6e-7a64ba15be37
                      amount: 200
                      qty: 2
                      discount: null
                      appliedPromotions: null
                    - referenceId: 7caa090c-9278-4f25-b587-575a6f1f1405
                      sku: d5a5ef5f-1f96-4180-9f31-81940469fbce
                      amount: 800
                      qty: 2
                      discount: null
                      appliedPromotions: null
                  promoCode:
                    - QCBS3WWZUES
                    - QCBS3WWZU
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: |-
                    {
                        "data": {
                            "amount": "2000.000000",
                            "customerId": 319630259,
                            "cartItems": [
                                {
                                    "referenceId": "7caa090c-9278-4f25-b587-575a6f1f1405",
                                    "sku": "d5a5ef5f-1f96-4180-9f31-81940469fbce",
                                    "amount": "800.000000",
                                    "qty": "2.000000",
                                    "discount": "0",
                                    "appliedPromotions": []
                                },
                                {
                                    "referenceId": "fdc78567-bf4a-494b-9386-83045a910dcb",
                                    "sku": "6676557b-a2ee-4334-aa6e-7a64ba15be37",
                                    "amount": "200.000000",
                                    "qty": "2.000000",
                                    "discount": "0",
                                    "appliedPromotions": []
                                }
                            ],
                            "evaluationId": "62ac29f8ab178d6d72d41734",
                            "appliedPromotions": [],
                            "appliedPaymentVouchers": [],
                            "promoCodeEvaluationLogs": [],
                            "paymentVoucherEvaluationLogs": [],
                            "cartTenders": [
                                {
                                    "identifier": "CASH",
                                    "amount": "2000.00",
                                    "adjustedAmount": "2000.00"
                                }
                            ],
                            "categoryHierarchySentInPayload": false
                        }
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      amount:
                        type: string
                        example: "2000.000000"
                      customerId:
                        type: integer
                        example: 319630259
                        default: 0
                      cartItems:
                        type: array
                        items:
                          type: object
                          properties:
                            referenceId:
                              type: string
                              example: 7caa090c-9278-4f25-b587-575a6f1f1405
                            sku:
                              type: string
                              example: d5a5ef5f-1f96-4180-9f31-81940469fbce
                            amount:
                              type: string
                              example: "800.000000"
                            qty:
                              type: string
                              example: "2.000000"
                            discount:
                              type: string
                              example: "0"
                            appliedPromotions:
                              type: array
                      evaluationId:
                        type: string
                        example: 62ac29f8ab178d6d72d41734
                      appliedPromotions:
                        type: array
                      appliedPaymentVouchers:
                        type: array
                      promoCodeEvaluationLogs:
                        type: array
                      paymentVoucherEvaluationLogs:
                        type: array
                      cartTenders:
                        type: array
                        items:
                          type: object
                          properties:
                            identifier:
                              type: string
                              example: CASH
                            amount:
                              type: string
                              example: "2000.00"
                            adjustedAmount:
                              type: string
                              example: "2000.00"
                      categoryHierarchySentInPayload:
                        type: boolean
                        example: false
                        default: true
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/code:
    get:
      summary: Get Cart Promotions code API
      description: This API can be used to fetch the Cart promotion details based on the code of the promotion
      operationId: get-promotions-code-api
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                codes:
                  type: string
                  description: Code assigned to the promotion which can be used for redemption
                mode:
                  type: string
                  description: "type of mode: DISCOUNT or PAYMENT_VOUCHER"
                includeRedemptions:
                  type: boolean
                  description: to include details of redemption
            examples:
              Request Body:
                value:
                  codes:
                    - string
                  mode: DISCOUNT
                  includeRedemptions: true
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: "{\n  \"data\": [\n    {\n      \"id\": \"string\",\n      \"orgId\": 0,                        \t\t //Unique id assigned to the organization/brand\n      \"promotionId\": \"string\", \t\t  \t //Unique id assigned to any promotion created\n      \"promotionName\": \"string\",\t  \t       //Name assigned to any promotion created\n      \"code\": \"string\", //Code assigned to the promotion which can be used for redemption\n      \"customerId\": 0\t\t\t\t\t         //Unique id assigned to a customer\n      \"active\": true,  \t\t //Whether the promotion is active or not(marked by the user)\n      \"createdOn\": 0, \t\t\t\t\t\t       //Date of promotion creation\n      \"validTill\": 0,\n      \"mode\": \"DISCOUNT\", //mode of the promotion\n      \"apiError\": {\n        \"code\": 0,\n        \"message\": \"string\"\n      },\n\"redeemableFrom\": 0,         //Date after which the promotion is applicable for redemption      \"restrictions\": {   \t\t                               \t        //applicable redemption restrictions\n        \"additionalProp1\": [\n          {\n            \"kpi\": \"REDEMPTION\",\n \"maxLimit\": 0,                                    //Maximum number of  redemptions allowed\n \t\"remainingRedemption\": 0, //Number of  redemptions remaining on the promotion\n          \"tempRedemption\": 0,         //Number of Temporary redemptions on the promotion\n              \"periodStart\": 0,                         //Period from which the restriction is applicable\n           \"periodEnd\": 0                                   //Period till which the restriction is applicable\n          }\n        ],\n        \"additionalProp2\": [\n          {\n            \"kpi\": \"REDEMPTION\",\n            \"maxLimit\": 0,\n            \"remainingRedemption\": 0,\n            \"tempRedemption\": 0,\n            \"periodStart\": 0,\n            \"periodEnd\": 0\n          }\n        ],\n        \"additionalProp3\": [\n          {\n            \"kpi\": \"REDEMPTION\",\n            \"maxLimit\": 0,\n            \"remainingRedemption\": 0,\n            \"tempRedemption\": 0,\n            \"periodStart\": 0,\n            \"periodEnd\": 0\n          }\n        ]\n      }\n    }\n  ],\n  \"errors\": [\n    {\n      \"code\": 0,\n      \"message\": \"string\"\n    }\n  ]\n}\n"
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/till/{tillId}:
    get:
      summary: Get Cart Promotions for a particular till
      description: This API can be used to fetch the Cart promotions for a particular till
      operationId: get-promotions-for-a-particular-till
      parameters:
        - in: path
          name: tillId
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                tillId:
                  type: integer
                  description: Unique id assigned to a till
                  format: int32
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: |
                    {
                      "data": [
                        {
                          "id": "string",
                          "name": "string",
                          "orgId": 0 ,          //Unique id assigned to the organization/brand
                          "priority": 0,
                          "active": true,  //Whether the promotion is active or not(marked by the user)

                          "messageLabel": "string",
                          "type": "POS",
                          "timeCriteria": {
                            "startTime": {
                              "hour": 0,
                              "minute": 0,
                              "second": 0,
                              "nano": 0
                            },
                            "durationInHours": 0,
                            "repeatFrequency": "DOES_NOT_REPEAT",
                            "weeklyValues": [
                              "MONDAY"
                            ],
                            "monthlyDayValues": [
                              0
                            ]
                          },
                          "storeCriteria": {
                            "type": "STORE",
                            "values": [
                              0
                            ],
                            "operator": "IN"
                          },
                          "supplementaryCriteria": {
                            "loyaltyProgramId": 0,
                            "programType": "TIER",
                            "partnerProgramId": 0
                          },
                          "condition": {
                            "type": "CART",
                            "cartCondition": {
                              "kpi": "SUBTOTAL",
                              "operator": "EQUALS",
                              "value": 0
                            },
                            "productCondition": {
                              "criteriaList": [
                                {
                                  "entity": "SKU",
                                  "operator": "IN",
                                  "values": [
                                    "string"
                                  ],
                                  "attributeName": "string"
                                }
                              ],
                              "kpi": "AMOUNT",
                              "value": 0,
                              "operator": "EQUALS"
                            },
                            "comboProductCondition": {
                              "productConditions": [
                                {
                                  "criteriaList": [
                                    {
                                      "entity": "SKU",
                                      "operator": "IN",
                                      "values": [
                                        "string"
                                      ],
                                      "attributeName": "string"
                                    }
                                  ],
                                  "kpi": "AMOUNT",
                                  "value": 0,
                                  "operator": "EQUALS"
                                },
                                {
                                  "criteriaList": [
                                    {
                                      "entity": "SKU",
                                      "operator": "IN",
                                      "values": [
                                        "string"
                                      ],
                                      "attributeName": "string"
                                    }
                                  ],
                                  "kpi": "AMOUNT",
                                  "value": 0,
                                  "operator": "EQUALS"
                                }
                              ]
                            },
                            "tenderCondition": {
                              "type": "PAYMENT_VOUCHER",
                              "identifier": "string",
                              "tenderModes": [
                                {
                                  "type": "PAYMENT_VOUCHER",
                                  "identifiers": [
                                    "string"
                                  ]
                                }
                              ],
                              "condition": "string"
                            }
                          },
                          "action": {
                            "type": "FIXED_PRICE",
                            "cartBasedAction": {
                              "type": "PERCENTAGE",
                              "value": 0
                            },
                            "productBasedAction": {
                              "productBasedCondition": {
                                "type": "CART",
                                "cartCondition": {
                                  "kpi": "SUBTOTAL",
                                  "operator": "EQUALS",
                                  "value": 0
                                },
                                "productCondition": {
                                  "criteriaList": [
                                    {
                                      "entity": "SKU",
                                      "operator": "IN",
                                      "values": [
                                        "string"
                                      ],
                                      "attributeName": "string"
                                    }
                                  ],
                                  "kpi": "AMOUNT",
                                  "value": 0,
                                  "operator": "EQUALS"
                                },
                                "comboProductCondition": {
                                  "productConditions": [
                                    {
                                      "criteriaList": [
                                        {
                                          "entity": "SKU",
                                          "operator": "IN",
                                          "values": [
                                            "string"
                                          ],
                                          "attributeName": "string"
                                        }
                                      ],
                                      "kpi": "AMOUNT",
                                      "value": 0,
                                      "operator": "EQUALS"
                                    },
                                    {
                                      "criteriaList": [
                                        {
                                          "entity": "SKU",
                                          "operator": "IN",
                                          "values": [
                                            "string"
                                          ],
                                          "attributeName": "string"
                                        }
                                      ],
                                      "kpi": "AMOUNT",
                                      "value": 0,
                                      "operator": "EQUALS"
                                    }
                                  ]
                                },
                                "tenderCondition": {
                                  "type": "PAYMENT_VOUCHER",
                                  "identifier": "string",
                                  "tenderModes": [
                                    {
                                      "type": "PAYMENT_VOUCHER",
                                      "identifiers": [
                                        "string"
                                      ]
                                    }
                                  ],
                                  "condition": "string"
                                }
                              },
                              "type": "PERCENTAGE",
                              "value": 0,
                              "includeItemsFromConditionSet": true
                            },
                            "fixedPriceAction": {
                              "productBasedCondition": {
                                "type": "CART",
                                "cartCondition": {
                                  "kpi": "SUBTOTAL",
                                  "operator": "EQUALS",
                                  "value": 0
                                },
                                "productCondition": {
                                  "criteriaList": [
                                    {
                                      "entity": "SKU",
                                      "operator": "IN",
                                      "values": [
                                        "string"
                                      ],
                                      "attributeName": "string"
                                    }
                                  ],
                                  "kpi": "AMOUNT",
                                  "value": 0,
                                  "operator": "EQUALS"
                                },
                                "comboProductCondition": {
                                  "productConditions": [
                                    {
                                      "criteriaList": [
                                        {
                                          "entity": "SKU",
                                          "operator": "IN",
                                          "values": [
                                            "string"
                                          ],
                                          "attributeName": "string"
                                        }
                                      ],
                                      "kpi": "AMOUNT",
                                      "value": 0,
                                      "operator": "EQUALS"
                                    },
                                    {
                                      "criteriaList": [
                                        {
                                          "entity": "SKU",
                                          "operator": "IN",
                                          "values": [
                                            "string"
                                          ],
                                          "attributeName": "string"
                                        }
                                      ],
                                      "kpi": "AMOUNT",
                                      "value": 0,
                                      "operator": "EQUALS"
                                    }
                                  ]
                                },
                                "tenderCondition": {
                                  "type": "PAYMENT_VOUCHER",
                                  "identifier": "string",
                                  "tenderModes": [
                                    {
                                      "type": "PAYMENT_VOUCHER",
                                      "identifiers": [
                                        "string"
                                      ]
                                    }
                                  ],
                                  "condition": "string"
                                }
                              },
                              "value": 0,
                              "includeItemsFromConditionSet": true
                            },
                            "freeProductAction": {
                              "productBasedCondition": {
                                "type": "CART",
                                "cartCondition": {
                                  "kpi": "SUBTOTAL",
                                  "operator": "EQUALS",
                                  "value": 0
                                },
                                "productCondition": {
                                  "criteriaList": [
                                    {
                                      "entity": "SKU",
                                      "operator": "IN",
                                      "values": [
                                        "string"
                                      ],
                                      "attributeName": "string"
                                    }
                                  ],
                                  "kpi": "AMOUNT",
                                  "value": 0,
                                  "operator": "EQUALS"
                                },
                                "comboProductCondition": {
                                  "productConditions": [
                                    {
                                      "criteriaList": [
                                        {
                                          "entity": "SKU",
                                          "operator": "IN",
                                          "values": [
                                            "string"
                                          ],
                                          "attributeName": "string"
                                        }
                                      ],
                                      "kpi": "AMOUNT",
                                      "value": 0,
                                      "operator": "EQUALS"
                                    },
                                    {
                                      "criteriaList": [
                                        {
                                          "entity": "SKU",
                                          "operator": "IN",
                                          "values": [
                                            "string"
                                          ],
                                          "attributeName": "string"
                                        }
                                      ],
                                      "kpi": "AMOUNT",
                                      "value": 0,
                                      "operator": "EQUALS"
                                    }
                                  ]
                                },
                                "tenderCondition": {
                                  "type": "PAYMENT_VOUCHER",
                                  "identifier": "string",
                                  "tenderModes": [
                                    {
                                      "type": "PAYMENT_VOUCHER",
                                      "identifiers": [
                                        "string"
                                      ]
                                    }
                                  ],
                                  "condition": "string"
                                }
                              },
                              "includeItemsFromConditionSet": true
                            },
                            "tenderBasedAction": {
                              "type": "PERCENTAGE",
                              "value": 0
                            },
                            "perUnitAction": {
                              "rewardAction": "string",
                              "perUnitKPI": "AMOUNT",
                              "perUnitDivider": 0,
                              "includeItemsFromConditionSet": true
                            }
                          },
                          "createdBy": 0,
                          "createdOn": "2023-01-19T09:28:58.595Z",
                          "lastUpdatedBy": 0,
                          "lastUpdatedOn": "2023-01-19T09:28:58.595Z",
                          "startDate": 0,
                          "endDate": 0,
                          "campaignId": 0,
                          "loyaltyEarningExpiryDays": 0,
                          "maxEarningPerCustomer": 0,
                          "earningCriteria": {
                            "criteriaName": "string",
                            "earnedFromType": "BULK_ISSUE",
                            "milestoneId": 0,
                            "groupId": 0,
                            "eventType": "TransactionAdd",
                            "storeCriteria": {
                              "type": "STORE",
                              "values": [
                                0
                              ],
                              "operator": "IN"
                            },
                            "timeCriteria": {
                              "startTime": {
                                "hour": 0,
                                "minute": 0,
                                "second": 0,
                                "nano": 0
                              },
                              "durationInHours": 0,
                              "repeatFrequency": "DOES_NOT_REPEAT",
                              "weeklyValues": [
                                "MONDAY"
                              ],
                              "monthlyDayValues": [
                                0
                              ]
                            },
                            "earningValidTillDays": 1,
                            "criteriaDsl": "string",
                            "criteriaDslJson": "string",
                            "active": true
                          },
                          "promotionRestrictions": {
                            "additionalProp1": [
                              {
                                "kpi": "TRANSACTION",
                                "frequency": "DAYS",
                                "minTimeBetweenRepeat": 0,
                                "limit": 0
                              }
                            ],
                            "additionalProp2": [
                              {
                                "kpi": "TRANSACTION",
                                "frequency": "DAYS",
                                "minTimeBetweenRepeat": 0,
                                "limit": 0
                              }
                            ],
                            "additionalProp3": [
                              {
                                "kpi": "TRANSACTION",
                                "frequency": "DAYS",
                                "minTimeBetweenRepeat": 0,
                                "limit": 0
                              }
                            ]
                          },
                          "earnLimitedToSpecificAudience": true,
                          "customFieldValues": {
                            "additionalProp1": "string",
                            "additionalProp2": "string",
                            "additionalProp3": "string"
                          },
                          "onEarnCommunicationChannels": {
                            "additionalProp1": {
                              "subject": "string",
                              "message": "string",
                              "senderLabel": "string",
                              "senderReplyToEmail": "string",
                              "unsubscribeLabel": "string",
                              "senderEmail": "string",
                              "senderGSM": "string",
                              "senderCDMA": "string",
                              "domainPropertyId": "string",
                              "accountId": "string",
                              "channelType": "ANDROID",
                              "pushNotificationCta": {
                                "type": "DEEP_LINK",
                                "actionLink": "string",
                                "image": "string",
                                "pushNotificationCtaActionList": [
                                  {
                                    "type": "DEEP_LINK",
                                    "actionLink": "string",
                                    "actionText": "string",
                                    "templateCtaId": "string"
                                  }
                                ]
                              }
                            },
                            "additionalProp2": {
                              "subject": "string",
                              "message": "string",
                              "senderLabel": "string",
                              "senderReplyToEmail": "string",
                              "unsubscribeLabel": "string",
                              "senderEmail": "string",
                              "senderGSM": "string",
                              "senderCDMA": "string",
                              "domainPropertyId": "string",
                              "accountId": "string",
                              "channelType": "ANDROID",
                              "pushNotificationCta": {
                                "type": "DEEP_LINK",
                                "actionLink": "string",
                                "image": "string",
                                "pushNotificationCtaActionList": [
                                  {
                                    "type": "DEEP_LINK",
                                    "actionLink": "string",
                                    "actionText": "string",
                                    "templateCtaId": "string"
                                  }
                                ]
                              }
                            },
                            "additionalProp3": {
                              "subject": "string",
                              "message": "string",
                              "senderLabel": "string",
                              "senderReplyToEmail": "string",
                              "unsubscribeLabel": "string",
                              "senderEmail": "string",
                              "senderGSM": "string",
                              "senderCDMA": "string",
                              "domainPropertyId": "string",
                              "accountId": "string",
                              "channelType": "ANDROID",
                              "pushNotificationCta": {
                                "type": "DEEP_LINK",
                                "actionLink": "string",
                                "image": "string",
                                "pushNotificationCtaActionList": [
                                  {
                                    "type": "DEEP_LINK",
                                    "actionLink": "string",
                                    "actionText": "string",
                                    "templateCtaId": "string"
                                  }
                                ]
                              }
                            }
                          },
                          "languagesConfigured": [
                            "string"
                          ],
                          "customerActivationRequired": true,
                          "isLoyaltyOnly": true,
                          "mode": "DISCOUNT",
                          "maxIssuancePerCustomer": 50,
                          "isStackable": true,
                          "expiryDateChangeJobList": [
                            {
                              "jobType": "ISSUED",
                              "status": "OPEN",
                              "createdOn": "2023-01-19T09:28:58.595Z",
                              "lastUpdatedOn": "2023-01-19T09:28:58.595Z",
                              "lastUpdatedBy": 0,
                              "createdBy": 0,
                              "impactedCount": 0,
                              "message": "string"
                            }
                          ],
                          "redeemableFromCriteria": {
                            "redeemableFrom": {
                              "period": 0,
                              "type": "HOURS"
                            },
                            "redemptionValidBeforeExpiry": {
                              "period": 0,
                              "type": "HOURS"
                            }
                          }
                        }
                      ],
                      "errors": [
                        {
                          "code": 0,
                          "message": "string"
                        }
                      ]
                    }
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: string
                        name:
                          type: string
                          example: string
                        orgId:
                          type: integer
                          example: 0
                          default: 0
                        priority:
                          type: integer
                          example: 0
                          default: 0
                        active:
                          type: boolean
                          example: true
                          default: true
                        messageLabel:
                          type: string
                          example: string
                        type:
                          type: string
                          example: POS
                        timeCriteria:
                          type: object
                          properties:
                            startTime:
                              type: object
                              properties:
                                hour:
                                  type: integer
                                  example: 0
                                  default: 0
                                minute:
                                  type: integer
                                  example: 0
                                  default: 0
                                second:
                                  type: integer
                                  example: 0
                                  default: 0
                                nano:
                                  type: integer
                                  example: 0
                                  default: 0
                            durationInHours:
                              type: integer
                              example: 0
                              default: 0
                            repeatFrequency:
                              type: string
                              example: DOES_NOT_REPEAT
                            weeklyValues:
                              type: array
                              items:
                                type: string
                                example: MONDAY
                            monthlyDayValues:
                              type: array
                              items:
                                type: integer
                                example: 0
                                default: 0
                        storeCriteria:
                          type: object
                          properties:
                            type:
                              type: string
                              example: STORE
                            values:
                              type: array
                              items:
                                type: integer
                                example: 0
                                default: 0
                            operator:
                              type: string
                              example: IN
                        supplementaryCriteria:
                          type: object
                          properties:
                            loyaltyProgramId:
                              type: integer
                              example: 0
                              default: 0
                            programType:
                              type: string
                              example: TIER
                            partnerProgramId:
                              type: integer
                              example: 0
                              default: 0
                        condition:
                          type: object
                          properties:
                            type:
                              type: string
                              example: CART
                            cartCondition:
                              type: object
                              properties:
                                kpi:
                                  type: string
                                  example: SUBTOTAL
                                operator:
                                  type: string
                                  example: EQUALS
                                value:
                                  type: integer
                                  example: 0
                                  default: 0
                            productCondition:
                              type: object
                              properties:
                                criteriaList:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      entity:
                                        type: string
                                        example: SKU
                                      operator:
                                        type: string
                                        example: IN
                                      values:
                                        type: array
                                        items:
                                          type: string
                                          example: string
                                      attributeName:
                                        type: string
                                        example: string
                                kpi:
                                  type: string
                                  example: AMOUNT
                                value:
                                  type: integer
                                  example: 0
                                  default: 0
                                operator:
                                  type: string
                                  example: EQUALS
                            comboProductCondition:
                              type: object
                              properties:
                                productConditions:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      criteriaList:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            entity:
                                              type: string
                                              example: SKU
                                            operator:
                                              type: string
                                              example: IN
                                            values:
                                              type: array
                                              items:
                                                type: string
                                                example: string
                                            attributeName:
                                              type: string
                                              example: string
                                      kpi:
                                        type: string
                                        example: AMOUNT
                                      value:
                                        type: integer
                                        example: 0
                                        default: 0
                                      operator:
                                        type: string
                                        example: EQUALS
                            tenderCondition:
                              type: object
                              properties:
                                type:
                                  type: string
                                  example: PAYMENT_VOUCHER
                                identifier:
                                  type: string
                                  example: string
                                tenderModes:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                        example: PAYMENT_VOUCHER
                                      identifiers:
                                        type: array
                                        items:
                                          type: string
                                          example: string
                                condition:
                                  type: string
                                  example: string
                        action:
                          type: object
                          properties:
                            type:
                              type: string
                              example: FIXED_PRICE
                            cartBasedAction:
                              type: object
                              properties:
                                type:
                                  type: string
                                  example: PERCENTAGE
                                value:
                                  type: integer
                                  example: 0
                                  default: 0
                            productBasedAction:
                              type: object
                              properties:
                                productBasedCondition:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      example: CART
                                    cartCondition:
                                      type: object
                                      properties:
                                        kpi:
                                          type: string
                                          example: SUBTOTAL
                                        operator:
                                          type: string
                                          example: EQUALS
                                        value:
                                          type: integer
                                          example: 0
                                          default: 0
                                    productCondition:
                                      type: object
                                      properties:
                                        criteriaList:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              entity:
                                                type: string
                                                example: SKU
                                              operator:
                                                type: string
                                                example: IN
                                              values:
                                                type: array
                                                items:
                                                  type: string
                                                  example: string
                                              attributeName:
                                                type: string
                                                example: string
                                        kpi:
                                          type: string
                                          example: AMOUNT
                                        value:
                                          type: integer
                                          example: 0
                                          default: 0
                                        operator:
                                          type: string
                                          example: EQUALS
                                    comboProductCondition:
                                      type: object
                                      properties:
                                        productConditions:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              criteriaList:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    entity:
                                                      type: string
                                                      example: SKU
                                                    operator:
                                                      type: string
                                                      example: IN
                                                    values:
                                                      type: array
                                                      items:
                                                        type: string
                                                        example: string
                                                    attributeName:
                                                      type: string
                                                      example: string
                                              kpi:
                                                type: string
                                                example: AMOUNT
                                              value:
                                                type: integer
                                                example: 0
                                                default: 0
                                              operator:
                                                type: string
                                                example: EQUALS
                                    tenderCondition:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                          example: PAYMENT_VOUCHER
                                        identifier:
                                          type: string
                                          example: string
                                        tenderModes:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                                example: PAYMENT_VOUCHER
                                              identifiers:
                                                type: array
                                                items:
                                                  type: string
                                                  example: string
                                        condition:
                                          type: string
                                          example: string
                                type:
                                  type: string
                                  example: PERCENTAGE
                                value:
                                  type: integer
                                  example: 0
                                  default: 0
                                includeItemsFromConditionSet:
                                  type: boolean
                                  example: true
                                  default: true
                            fixedPriceAction:
                              type: object
                              properties:
                                productBasedCondition:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      example: CART
                                    cartCondition:
                                      type: object
                                      properties:
                                        kpi:
                                          type: string
                                          example: SUBTOTAL
                                        operator:
                                          type: string
                                          example: EQUALS
                                        value:
                                          type: integer
                                          example: 0
                                          default: 0
                                    productCondition:
                                      type: object
                                      properties:
                                        criteriaList:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              entity:
                                                type: string
                                                example: SKU
                                              operator:
                                                type: string
                                                example: IN
                                              values:
                                                type: array
                                                items:
                                                  type: string
                                                  example: string
                                              attributeName:
                                                type: string
                                                example: string
                                        kpi:
                                          type: string
                                          example: AMOUNT
                                        value:
                                          type: integer
                                          example: 0
                                          default: 0
                                        operator:
                                          type: string
                                          example: EQUALS
                                    comboProductCondition:
                                      type: object
                                      properties:
                                        productConditions:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              criteriaList:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    entity:
                                                      type: string
                                                      example: SKU
                                                    operator:
                                                      type: string
                                                      example: IN
                                                    values:
                                                      type: array
                                                      items:
                                                        type: string
                                                        example: string
                                                    attributeName:
                                                      type: string
                                                      example: string
                                              kpi:
                                                type: string
                                                example: AMOUNT
                                              value:
                                                type: integer
                                                example: 0
                                                default: 0
                                              operator:
                                                type: string
                                                example: EQUALS
                                    tenderCondition:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                          example: PAYMENT_VOUCHER
                                        identifier:
                                          type: string
                                          example: string
                                        tenderModes:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                                example: PAYMENT_VOUCHER
                                              identifiers:
                                                type: array
                                                items:
                                                  type: string
                                                  example: string
                                        condition:
                                          type: string
                                          example: string
                                value:
                                  type: integer
                                  example: 0
                                  default: 0
                                includeItemsFromConditionSet:
                                  type: boolean
                                  example: true
                                  default: true
                            freeProductAction:
                              type: object
                              properties:
                                productBasedCondition:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      example: CART
                                    cartCondition:
                                      type: object
                                      properties:
                                        kpi:
                                          type: string
                                          example: SUBTOTAL
                                        operator:
                                          type: string
                                          example: EQUALS
                                        value:
                                          type: integer
                                          example: 0
                                          default: 0
                                    productCondition:
                                      type: object
                                      properties:
                                        criteriaList:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              entity:
                                                type: string
                                                example: SKU
                                              operator:
                                                type: string
                                                example: IN
                                              values:
                                                type: array
                                                items:
                                                  type: string
                                                  example: string
                                              attributeName:
                                                type: string
                                                example: string
                                        kpi:
                                          type: string
                                          example: AMOUNT
                                        value:
                                          type: integer
                                          example: 0
                                          default: 0
                                        operator:
                                          type: string
                                          example: EQUALS
                                    comboProductCondition:
                                      type: object
                                      properties:
                                        productConditions:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              criteriaList:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    entity:
                                                      type: string
                                                      example: SKU
                                                    operator:
                                                      type: string
                                                      example: IN
                                                    values:
                                                      type: array
                                                      items:
                                                        type: string
                                                        example: string
                                                    attributeName:
                                                      type: string
                                                      example: string
                                              kpi:
                                                type: string
                                                example: AMOUNT
                                              value:
                                                type: integer
                                                example: 0
                                                default: 0
                                              operator:
                                                type: string
                                                example: EQUALS
                                    tenderCondition:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                          example: PAYMENT_VOUCHER
                                        identifier:
                                          type: string
                                          example: string
                                        tenderModes:
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                                example: PAYMENT_VOUCHER
                                              identifiers:
                                                type: array
                                                items:
                                                  type: string
                                                  example: string
                                        condition:
                                          type: string
                                          example: string
                                includeItemsFromConditionSet:
                                  type: boolean
                                  example: true
                                  default: true
                            tenderBasedAction:
                              type: object
                              properties:
                                type:
                                  type: string
                                  example: PERCENTAGE
                                value:
                                  type: integer
                                  example: 0
                                  default: 0
                            perUnitAction:
                              type: object
                              properties:
                                rewardAction:
                                  type: string
                                  example: string
                                perUnitKPI:
                                  type: string
                                  example: AMOUNT
                                perUnitDivider:
                                  type: integer
                                  example: 0
                                  default: 0
                                includeItemsFromConditionSet:
                                  type: boolean
                                  example: true
                                  default: true
                        createdBy:
                          type: integer
                          example: 0
                          default: 0
                        createdOn:
                          type: string
                          example: "2023-01-19T09:28:58.595Z"
                        lastUpdatedBy:
                          type: integer
                          example: 0
                          default: 0
                        lastUpdatedOn:
                          type: string
                          example: "2023-01-19T09:28:58.595Z"
                        startDate:
                          type: integer
                          example: 0
                          default: 0
                        endDate:
                          type: integer
                          example: 0
                          default: 0
                        campaignId:
                          type: integer
                          example: 0
                          default: 0
                        loyaltyEarningExpiryDays:
                          type: integer
                          example: 0
                          default: 0
                        maxEarningPerCustomer:
                          type: integer
                          example: 0
                          default: 0
                        earningCriteria:
                          type: object
                          properties:
                            criteriaName:
                              type: string
                              example: string
                            earnedFromType:
                              type: string
                              example: BULK_ISSUE
                            milestoneId:
                              type: integer
                              example: 0
                              default: 0
                            groupId:
                              type: integer
                              example: 0
                              default: 0
                            eventType:
                              type: string
                              example: TransactionAdd
                            storeCriteria:
                              type: object
                              properties:
                                type:
                                  type: string
                                  example: STORE
                                values:
                                  type: array
                                  items:
                                    type: integer
                                    example: 0
                                    default: 0
                                operator:
                                  type: string
                                  example: IN
                            timeCriteria:
                              type: object
                              properties:
                                startTime:
                                  type: object
                                  properties:
                                    hour:
                                      type: integer
                                      example: 0
                                      default: 0
                                    minute:
                                      type: integer
                                      example: 0
                                      default: 0
                                    second:
                                      type: integer
                                      example: 0
                                      default: 0
                                    nano:
                                      type: integer
                                      example: 0
                                      default: 0
                                durationInHours:
                                  type: integer
                                  example: 0
                                  default: 0
                                repeatFrequency:
                                  type: string
                                  example: DOES_NOT_REPEAT
                                weeklyValues:
                                  type: array
                                  items:
                                    type: string
                                    example: MONDAY
                                monthlyDayValues:
                                  type: array
                                  items:
                                    type: integer
                                    example: 0
                                    default: 0
                            earningValidTillDays:
                              type: integer
                              example: 1
                              default: 0
                            criteriaDsl:
                              type: string
                              example: string
                            criteriaDslJson:
                              type: string
                              example: string
                            active:
                              type: boolean
                              example: true
                              default: true
                        promotionRestrictions:
                          type: object
                          properties:
                            additionalProp1:
                              type: array
                              items:
                                type: object
                                properties:
                                  kpi:
                                    type: string
                                    example: TRANSACTION
                                  frequency:
                                    type: string
                                    example: DAYS
                                  minTimeBetweenRepeat:
                                    type: integer
                                    example: 0
                                    default: 0
                                  limit:
                                    type: integer
                                    example: 0
                                    default: 0
                            additionalProp2:
                              type: array
                              items:
                                type: object
                                properties:
                                  kpi:
                                    type: string
                                    example: TRANSACTION
                                  frequency:
                                    type: string
                                    example: DAYS
                                  minTimeBetweenRepeat:
                                    type: integer
                                    example: 0
                                    default: 0
                                  limit:
                                    type: integer
                                    example: 0
                                    default: 0
                            additionalProp3:
                              type: array
                              items:
                                type: object
                                properties:
                                  kpi:
                                    type: string
                                    example: TRANSACTION
                                  frequency:
                                    type: string
                                    example: DAYS
                                  minTimeBetweenRepeat:
                                    type: integer
                                    example: 0
                                    default: 0
                                  limit:
                                    type: integer
                                    example: 0
                                    default: 0
                        earnLimitedToSpecificAudience:
                          type: boolean
                          example: true
                          default: true
                        customFieldValues:
                          type: object
                          properties:
                            additionalProp1:
                              type: string
                              example: string
                            additionalProp2:
                              type: string
                              example: string
                            additionalProp3:
                              type: string
                              example: string
                        onEarnCommunicationChannels:
                          type: object
                          properties:
                            additionalProp1:
                              type: object
                              properties:
                                subject:
                                  type: string
                                  example: string
                                message:
                                  type: string
                                  example: string
                                senderLabel:
                                  type: string
                                  example: string
                                senderReplyToEmail:
                                  type: string
                                  example: string
                                unsubscribeLabel:
                                  type: string
                                  example: string
                                senderEmail:
                                  type: string
                                  example: string
                                senderGSM:
                                  type: string
                                  example: string
                                senderCDMA:
                                  type: string
                                  example: string
                                domainPropertyId:
                                  type: string
                                  example: string
                                accountId:
                                  type: string
                                  example: string
                                channelType:
                                  type: string
                                  example: ANDROID
                                pushNotificationCta:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      example: DEEP_LINK
                                    actionLink:
                                      type: string
                                      example: string
                                    image:
                                      type: string
                                      example: string
                                    pushNotificationCtaActionList:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                            example: DEEP_LINK
                                          actionLink:
                                            type: string
                                            example: string
                                          actionText:
                                            type: string
                                            example: string
                                          templateCtaId:
                                            type: string
                                            example: string
                            additionalProp2:
                              type: object
                              properties:
                                subject:
                                  type: string
                                  example: string
                                message:
                                  type: string
                                  example: string
                                senderLabel:
                                  type: string
                                  example: string
                                senderReplyToEmail:
                                  type: string
                                  example: string
                                unsubscribeLabel:
                                  type: string
                                  example: string
                                senderEmail:
                                  type: string
                                  example: string
                                senderGSM:
                                  type: string
                                  example: string
                                senderCDMA:
                                  type: string
                                  example: string
                                domainPropertyId:
                                  type: string
                                  example: string
                                accountId:
                                  type: string
                                  example: string
                                channelType:
                                  type: string
                                  example: ANDROID
                                pushNotificationCta:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      example: DEEP_LINK
                                    actionLink:
                                      type: string
                                      example: string
                                    image:
                                      type: string
                                      example: string
                                    pushNotificationCtaActionList:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                            example: DEEP_LINK
                                          actionLink:
                                            type: string
                                            example: string
                                          actionText:
                                            type: string
                                            example: string
                                          templateCtaId:
                                            type: string
                                            example: string
                            additionalProp3:
                              type: object
                              properties:
                                subject:
                                  type: string
                                  example: string
                                message:
                                  type: string
                                  example: string
                                senderLabel:
                                  type: string
                                  example: string
                                senderReplyToEmail:
                                  type: string
                                  example: string
                                unsubscribeLabel:
                                  type: string
                                  example: string
                                senderEmail:
                                  type: string
                                  example: string
                                senderGSM:
                                  type: string
                                  example: string
                                senderCDMA:
                                  type: string
                                  example: string
                                domainPropertyId:
                                  type: string
                                  example: string
                                accountId:
                                  type: string
                                  example: string
                                channelType:
                                  type: string
                                  example: ANDROID
                                pushNotificationCta:
                                  type: object
                                  properties:
                                    type:
                                      type: string
                                      example: DEEP_LINK
                                    actionLink:
                                      type: string
                                      example: string
                                    image:
                                      type: string
                                      example: string
                                    pushNotificationCtaActionList:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                            example: DEEP_LINK
                                          actionLink:
                                            type: string
                                            example: string
                                          actionText:
                                            type: string
                                            example: string
                                          templateCtaId:
                                            type: string
                                            example: string
                        languagesConfigured:
                          type: array
                          items:
                            type: string
                            example: string
                        customerActivationRequired:
                          type: boolean
                          example: true
                          default: true
                        isLoyaltyOnly:
                          type: boolean
                          example: true
                          default: true
                        mode:
                          type: string
                          example: DISCOUNT
                        maxIssuancePerCustomer:
                          type: integer
                          example: 50
                          default: 0
                        isStackable:
                          type: boolean
                          example: true
                          default: true
                        expiryDateChangeJobList:
                          type: array
                          items:
                            type: object
                            properties:
                              jobType:
                                type: string
                                example: ISSUED
                              status:
                                type: string
                                example: OPEN
                              createdOn:
                                type: string
                                example: "2023-01-19T09:28:58.595Z"
                              lastUpdatedOn:
                                type: string
                                example: "2023-01-19T09:28:58.595Z"
                              lastUpdatedBy:
                                type: integer
                                example: 0
                                default: 0
                              createdBy:
                                type: integer
                                example: 0
                                default: 0
                              impactedCount:
                                type: integer
                                example: 0
                                default: 0
                              message:
                                type: string
                                example: string
                        redeemableFromCriteria:
                          type: object
                          properties:
                            redeemableFrom:
                              type: object
                              properties:
                                period:
                                  type: integer
                                  example: 0
                                  default: 0
                                type:
                                  type: string
                                  example: HOURS
                            redemptionValidBeforeExpiry:
                              type: object
                              properties:
                                period:
                                  type: integer
                                  example: 0
                                  default: 0
                                type:
                                  type: string
                                  example: HOURS
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 0
                          default: 0
                        message:
                          type: string
                          example: string
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/config:
    get:
      summary: Get Cart Promotions Config API
      description: This API can be used fetch the configurations of the cart promotions via promotion ids
      operationId: get-promotions-config-api
      parameters:
        - name: includeExpired
          in: query
          description: includes expired promotions or not
          schema:
            type: boolean
        - name: includeInactive
          in: query
          description: includes active/inactive promotions
          schema:
            type: boolean
        - name: promotionIds
          in: query
          description: Unique id assigned to any promotion created
          schema:
            type: array
            items:
              type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: "{\n  \"data\": [\n    {\n      \"promotionId\": \"string\",\t\t //Unique id assigned to any promotion \n      \"promotionName\": \"string\"\t\t  \t  //Name of the promotion \n      \"promotionType\": \"POS\",\t\t\t        //Type of  promotion \n      \"milestoneId\": 0,\n      \"groupId\": 0,\n      \"ruleId\": 0,\n      \"expiry\": 0,      \t\t    //Period after which the promotion will expire\n      \"description\": \"string\",      //Custom description added for the promotion\n      \"storeCriteria\": {\n        \"type\": \"STORE\",            //List of stores where promotion is applicable\n        \"values\": [\n          0\n        ],\n        \"operator\": \"IN\"\n      },\n      \"supplementaryCriteria\": {\n        \"loyaltyProgramId\": 0,\n        \"programType\": \"TIER\",\n        \"partnerProgramId\": 0\n      },\n      \"reward\": \"string\",\n      \"maxEarningPerCustomer\": 0,\n      \"isActive\": true,\n      \"customFieldValues\": {\n        \"additionalProp1\": \"string\",\n        \"additionalProp2\": \"string\",\n        \"additionalProp3\": \"string\"\n      },\n      \"promotionRestrictions\": {\n        \"additionalProp1\": [\n          {\n            \"kpi\": \"TRANSACTION\",\n            \"frequency\": \"DAYS\",\n            \"minTimeBetweenRepeat\": 0,\n            \"limit\": 0\n          }\n        ],\n        \"additionalProp2\": [\n          {\n            \"kpi\": \"TRANSACTION\",\n            \"frequency\": \"DAYS\",\n            \"minTimeBetweenRepeat\": 0,\n            \"limit\": 0\n          }\n        ],\n        \"additionalProp3\": [\n          {\n            \"kpi\": \"TRANSACTION\",\n            \"frequency\": \"DAYS\",\n            \"minTimeBetweenRepeat\": 0,\n            \"limit\": 0\n          }\n        ]\n      }\n    }\n  ],\n  \"errors\": [\n    {\n      \"code\": 0,\n      \"message\": \"string\"\n    }\n  ]\n"
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/{code}/link:
    post:
      summary: Post Cart Promotions Code link API
      description: This API is used to link the code of the cart promotion earned by the customer to the customer id.
      operationId: post-promotions-code-link-api
      parameters:
        - name: code
          in: path
          description: Code assigned to the promotion which can be used for redemption
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                customerId:
                  type: integer
                  description: Unique id assigned to the customer
                  format: int32
                code:
                  type: string
                  description: Code assigned to the promotion which can be used for redemption
                mode:
                  type: string
                  description: The mode of promotion
            examples:
              Request Body:
                value:
                  customerId: 1
                  code: string
                  mode: DISCOUNT
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: ""
                New Example:
                  summary: New Example
                  value:
                    data:
                      id: 68662004ee52f074465e1063
                      orgId: 100737
                      promotionId: 68661fe0ee52f074465e1062
                      promotionName: code promotion
                      code: "40807"
                      customerId: 387509610
                      active: true
                      createdOn: 1751523332753
                      validTill: 1753986599999
                      mode: DISCOUNT
                      redeemableFrom: 1751523332753
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: string
                      orgId:
                        type: integer
                        example: 0
                        default: 0
                      promotionId:
                        type: string
                        example: string
                      promotionName:
                        type: string
                        example: string
                      code:
                        type: string
                        example: string
                      customerId:
                        type: integer
                        example: 0
                        default: 0
                      active:
                        type: boolean
                        example: true
                        default: true
                      createdOn:
                        type: integer
                        example: 0
                        default: 0
                      validTill:
                        type: integer
                        example: 0
                        default: 0
                      mode:
                        type: string
                        example: DISCOUNT
                      apiError:
                        type: object
                        properties:
                          code:
                            type: integer
                            example: 0
                            default: 0
                          message:
                            type: string
                            example: string
                      redeemableFrom:
                        type: integer
                        example: 0
                        default: 0
                      restrictions:
                        type: object
                        properties:
                          additionalProp1:
                            type: array
                            items:
                              type: object
                              properties:
                                kpi:
                                  type: string
                                  example: REDEMPTION
                                maxLimit:
                                  type: integer
                                  example: 0
                                  default: 0
                                remainingRedemption:
                                  type: integer
                                  example: 0
                                  default: 0
                                tempRedemption:
                                  type: integer
                                  example: 0
                                  default: 0
                                periodStart:
                                  type: integer
                                  example: 0
                                  default: 0
                                periodEnd:
                                  type: integer
                                  example: 0
                                  default: 0
                          additionalProp2:
                            type: array
                            items:
                              type: object
                              properties:
                                kpi:
                                  type: string
                                  example: REDEMPTION
                                maxLimit:
                                  type: integer
                                  example: 0
                                  default: 0
                                remainingRedemption:
                                  type: integer
                                  example: 0
                                  default: 0
                                tempRedemption:
                                  type: integer
                                  example: 0
                                  default: 0
                                periodStart:
                                  type: integer
                                  example: 0
                                  default: 0
                                periodEnd:
                                  type: integer
                                  example: 0
                                  default: 0
                          additionalProp3:
                            type: array
                            items:
                              type: object
                              properties:
                                kpi:
                                  type: string
                                  example: REDEMPTION
                                maxLimit:
                                  type: integer
                                  example: 0
                                  default: 0
                                remainingRedemption:
                                  type: integer
                                  example: 0
                                  default: 0
                                tempRedemption:
                                  type: integer
                                  example: 0
                                  default: 0
                                periodStart:
                                  type: integer
                                  example: 0
                                  default: 0
                                periodEnd:
                                  type: integer
                                  example: 0
                                  default: 0
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 0
                          default: 0
                        message:
                          type: string
                          example: string
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/earn/bulk:
    post:
      summary: Post Earn Cart Promotions in Bulk
      description: This API is used to earn cart promotions in bulk to the customers
      operationId: post-earn-promotions-in-bulk
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                RAW_BODY:
                  type: string
            examples:
              Request Body:
                value:
                  orgId: 0
                  customerId: 0
                  eventTime: 0
                  earnedFromType: BULK_ISSUE
                  eventDetails:
                    id: string
                    type: string
                    eventPayload:
                      additionalProp1: {}
                      additionalProp2: {}
                      additionalProp3: {}
                  earnedPromotions:
                    - promotionId: string
                      earnCount: 0
                      earnedFromId: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: "{\n\"data\": [\n{\n\"earnedFromId\": \"string\",                 \t\t    // earn event id\n\"promotionId\": \"string\",                                  //Unique id assigned to each promotion\n“successfulEarnCount\": 0,                //Number of times the promotion is earned successfully\n“failedEarnCount\": 0,                 //Number of times the promotion earn was unsuccessful   \n  \"errorDetails\": {\n        \"errorCode\": 0,\n        \"errorMessages\": \"string\"\n      },\n      \"customerEarnedPromotions\": [\n        {\n          \"id\": \"string\",                                      //Unique id assigned of the promotion earned\n          \"customerId\": 0,                   //Unique id of the customer who earned the promotion\n          \"promotionId\": \"string\",                                //Unique id assigned to each promotion\n  \"eventDetails\": {                                                      // unique details of event occurrence\n          \"earnedFromType\": \"BULK_ISSUE\",                // Type of earn, whether single/bulk\n          \"earnedFromId\": \"string\", \n          \"eventTime\": 0,                                     // Captures the time when the event occurs\n          \"eventDetails\": {\n            \"id\": \"string\",\n            \"type\": \"string\",\n            \"eventPayload\": {\n              \"additionalProp1\": {},\n              \"additionalProp2\": {},\n              \"additionalProp3\": {}\n            }\n          },\n          \"validTill\": 0,                                                       // promotion validity date\n          \"errorDetails\": {\n            \"errorCode\": 0,\n            \"errorMessages\": \"string\"\n          }\n        }\n      ]\n    }\n  ],\n  \"errors\": [\n    {\n      \"code\": 0,\n      \"message\": \"string\"\n    }\n  ]\n}\n\n\n\n\n"
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/{promotionId}/earn:
    post:
      summary: Earn Cart Promotion
      description: Description :With this API , we can get the details of all the cart promotions earned by a particular customer.
      operationId: earn-promotion
      parameters:
        - name: promotionId
          in: path
          description: The Unique promotion id
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: Unique id assigned to the earn event
                customerId:
                  type: string
                  description: Unique id assigned to the customer
                promotionId:
                  type: string
                  description: Unique id assigned to the promotion
                earnedFromType:
                  type: string
                  description: "Type of customer activity for which promotion is earned . Enums: ACTIVITY,MILESTONE, REWARD"
                earnedFromId:
                  type: string
                  description: earn event id
                eventTime:
                  type: string
                  description: The time stamp
                  format: date-time
                validTill:
                  type: string
                  description: Validity of the earn
                  format: date
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: |+
                    {
                      "data": {
                        "id": "string",
                        "customerId": 0, //Unique id assigned to the customer
                        "promotionId": "string", ////Unique id assigned when a promotion is created
                        "earnedFromType": "", // Type of customer activity for which promotion is earned . Enums: ACTIVITY,MILESTONE, REWARD
                        "earnedFromId": "string", // earn event id
                        "eventTime": 0, // Time when earn event occurs
                        "eventDetails": {
                          "id": "string",
                          "type": "string",
                          "eventPayload": {
                            "additionalProp1": {},
                            "additionalProp2": {},
                            "additionalProp3": {}
                          }
                        },
                        "validTill": 0, // period for which the earned promotion is valid 
                        "errorDetails": {
                          "errorCode": 0,
                          "errorMessages": "string"
                        }
                      },
                      "errors": [
                        {
                          "code": 0,
                          "message": "string"
                        }
                      ]
                    }


              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: string
                      customerId:
                        type: integer
                        example: 0
                        default: 0
                      promotionId:
                        type: string
                        example: string
                      earnedFromType:
                        type: string
                        example: ""
                      earnedFromId:
                        type: string
                        example: string
                      eventTime:
                        type: integer
                        example: 0
                        default: 0
                      eventDetails:
                        type: object
                        properties:
                          id:
                            type: string
                            example: string
                          type:
                            type: string
                            example: string
                          eventPayload:
                            type: object
                            properties:
                              additionalProp1:
                                type: object
                                properties: {}
                              additionalProp2:
                                type: object
                                properties: {}
                              additionalProp3:
                                type: object
                                properties: {}
                      validTill:
                        type: integer
                        example: 0
                        default: 0
                      errorDetails:
                        type: object
                        properties:
                          errorCode:
                            type: integer
                            example: 0
                            default: 0
                          errorMessages:
                            type: string
                            example: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 0
                          default: 0
                        message:
                          type: string
                          example: string
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
  /api_gateway/v1/promotions/revokeEarn:
    post:
      summary: Post Revoke Earned Cart Promotion
      description: This API is used to revoke an already earned cart promotion
      operationId: post-revoke-earned-promotion
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                RAW_BODY:
                  type: string
                customerId:
                  type: string
                  description: The customerId for which the earn should be revokes
                earnRevokeDetails:
                  type: object
                  description: revoke details
                  properties:
                    "":
                      type: string
            examples:
              Request Body:
                value:
                  customerId: 0
                  earnRevokeDetails:
                    - promotionId: string
                      earnIds:
                        - string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              examples:
                Result:
                  value: |
                    {
                      "data": {
                        "code": 0,
                        "message": "string"
                      },
                      "errors": [
                        {
                          "code": 0,
                          "message": "string",
                          "promotionId": "string", //Unique id assigned to any promotion created
                          "earnIds": [
                            "string"
                          ]
                        }
                      ]
                    }
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      code:
                        type: integer
                        example: 0
                        default: 0
                      message:
                        type: string
                        example: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 0
                          default: 0
                        message:
                          type: string
                          example: string
                        promotionId:
                          type: string
                          example: string
                        earnIds:
                          type: array
                          items:
                            type: string
                            example: string
        "400":
          description: "400"
          content:
            application/json:
              examples:
                Result:
                  value: "{}"
              schema:
                type: object
                properties: {}
components:
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    bearerAuth:
      type: http
      scheme: bearer
    oauthToken:
      type: apiKey
      in: header
      name: X-CAP-API-OAUTH-TOKEN
security:
  - basicAuth: []
